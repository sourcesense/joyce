$schema: https://joyce.sourcesense.com/v1/schema
metadata:
  subtype: import
  name: user
  description: A test schema
  production: false
  uid: id
  collection: users
type: object
properties:
  id:
    type: integer
    value: "$.src.id"
  mappedObject:
    type: object
    properties:
      rest:
        type: string
        apply:
          - handler: rest
            args:
              url: http://test:8080/posts?test=pv1
              method: POST
              headers:
                Content-Type: application/json
                test: hv1, hvN
              body: |
                {
                 "content": "test"
                }
          - handler: extract
            args: $.out.response