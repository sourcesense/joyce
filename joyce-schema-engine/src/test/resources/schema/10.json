{
  "$schema": "https://joyce.sourcesense.com/v1/schema",
  "metadata": {
    "subtype": "import",
    "uid": "uid",
    "collection": "users",
    "cassandra_schema": "short_users"
  },
  "type": "object",
  "properties": {
    "uid": {
      "type": "string",
      "apply": [{
        "handler": "extract",
        "args": ["asd-", "$.id"]
      }]
    },
    "name": {
      "type": "string",
      "required": true
    },
    "mail": {
      "type": "string",
      "required": true,
      "value": "$.email"
    },
    "docType": {
      "type": ["string", "null"],
      "apply": [{
        "handler": "fixed",
        "args": "simpleUser"
      }]
    },
    "address": {
      "type": "string",
      "apply": [{
        "handler": "extract",
        "args": ["$.address.city", ", ", "$.address.street"]
      }]
    }
  }
}
