$schema: https://joyce.sourcesense.com/v1/schema
metadata:
  subtype: import
  name: user
  description: A test schema
  production: false
  uid: id
  collection: users
type: object
properties:
  id:
    type: integer
    value: "$.src.id"
  mappedObject:
    type: object
    properties:
      field1:
        type: string
      field2:
        type: string
    apply:
      - handler: script
        args:
          language: python
          oneLine: false
          code: |
            asd = ctx['src']['object']['objectField'].upper()
            return {'field1': asd, 'field2': 'newField'}
